"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{6182:(e,t,r)=>{r.r(t),r.d(t,{MoonPayBalanceDepositWidget:()=>P,MoonPayBalanceWithdrawWidget:()=>W,MoonPayBuyWidget:()=>k,MoonPayConsumerKycWidget:()=>L,MoonPayContext:()=>N,MoonPayNftCheckoutWidget:()=>$,MoonPayNftClaimWidget:()=>j,MoonPayProvider:()=>M,MoonPaySellWidget:()=>E,MoonPaySwapWidget:()=>_,MoonPaySwapsCustomerSetupWidget:()=>B,MoonPayTopUpLedgerWidget:()=>T,MoonPayTransactionTrackerWidget:()=>A,MoonPayWithdrawLedgerWidget:()=>K});var n=r(6540),a=r(4848),s="moonpay-react-sdk-embedded-frame",i=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{currencyCode:i,defaultCurrencyCode:o,walletAddress:l,walletAddressTag:u,walletAddresses:d,walletAddressTags:c,colorCode:g,theme:x,themeId:m,language:v,baseCurrencyCode:y,baseCurrencyAmount:p,quoteCurrencyAmount:f,lockAmount:b,email:S,externalTransactionId:w,externalCustomerId:h,paymentMethod:N,redirectURL:M,showAllCurrencies:R,showOnlyCurrencies:U,showWalletAddressForm:q,unsupportedRegionRedirectUrl:C,skipUnsupportedRegionScreen:P,baseOrigin:W,onAuthToken:k,onInitiateDeposit:L,onKmsWalletsCreated:$,onLogin:j,onTransactionCompleted:E,onUnsupportedRegion:B,onSwapsCustomerSetupComplete:_,onCloseOverlay:T,onTransactionCreated:A,auth:K,useWarnBeforeRefresh:D,overlayNode:F}=e;return{flow:"buy",variant:e.variant,environment:n,params:{apiKey:t,signature:a,currencyCode:i,defaultCurrencyCode:o,walletAddress:l,walletAddressTag:u,walletAddresses:d,walletAddressTags:c,colorCode:g,theme:x,themeId:m,language:v,baseCurrencyCode:y,baseCurrencyAmount:p,quoteCurrencyAmount:f,lockAmount:b,email:S,externalTransactionId:w,externalCustomerId:h,paymentMethod:N,redirectURL:M,showAllCurrencies:R,showOnlyCurrencies:U,showWalletAddressForm:q,unsupportedRegionRedirectUrl:C,skipUnsupportedRegionScreen:P},debug:r,baseOrigin:W,handlers:{onAuthToken:k,onInitiateDeposit:L,onKmsWalletsCreated:$,onLogin:j,onTransactionCompleted:E,onUnsupportedRegion:B,onSwapsCustomerSetupComplete:_,onCloseOverlay:T,onTransactionCreated:A},auth:K,useWarnBeforeRefresh:D,containerNodeSelector:`#${s}`,overlayNode:F}},o=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{quoteCurrencyCode:i,defaultCurrencyCode:o,defaultBaseCurrencyCode:l,walletAddress:u,walletAddressTag:d,walletAddresses:c,walletAddressTags:g,colorCode:x,theme:m,themeId:v,language:y,baseCurrencyCode:p,baseCurrencyAmount:f,quoteCurrencyAmount:b,lockAmount:S,email:w,externalTransactionId:h,externalCustomerId:N,paymentMethod:M,redirectURL:R,showAllCurrencies:U,showOnlyCurrencies:q,showWalletAddressForm:C,unsupportedRegionRedirectUrl:P,skipUnsupportedRegionScreen:W,mpWalletId:k,baseOrigin:L,refundWalletAddress:$,refundWalletAddresses:j,onAuthToken:E,onInitiateDeposit:B,onKmsWalletsCreated:_,onLogin:T,onTransactionCompleted:A,onUnsupportedRegion:K,onSwapsCustomerSetupComplete:D,onCloseOverlay:F,onTransactionCreated:V,auth:Y,useWarnBeforeRefresh:z}=e;return{flow:"sell",variant:e.variant,environment:n,params:{apiKey:t,signature:a,quoteCurrencyCode:i,defaultCurrencyCode:o,defaultBaseCurrencyCode:l,walletAddress:u,walletAddressTag:d,walletAddresses:c,walletAddressTags:g,colorCode:x,theme:m,themeId:v,language:y,baseCurrencyCode:p,baseCurrencyAmount:f,quoteCurrencyAmount:b,lockAmount:S,email:w,externalTransactionId:h,externalCustomerId:N,paymentMethod:M,redirectURL:R,showAllCurrencies:U,showOnlyCurrencies:q,showWalletAddressForm:C,unsupportedRegionRedirectUrl:P,skipUnsupportedRegionScreen:W,mpWalletId:k,refundWalletAddress:$,refundWalletAddresses:j},debug:r,baseOrigin:L,handlers:{onAuthToken:E,onInitiateDeposit:B,onKmsWalletsCreated:_,onLogin:T,onTransactionCompleted:A,onUnsupportedRegion:K,onSwapsCustomerSetupComplete:D,onCloseOverlay:F,onTransactionCreated:V},auth:Y,useWarnBeforeRefresh:z,containerNodeSelector:`#${s}`}},l=({props:e,apiKey:t,debug:r,environment:n})=>{let{amount:a,amountCurrencyCode:i,theme:o,themeId:l,externalCustomerId:u,baseOrigin:d,onAuthToken:c,onLogin:g,onInitiateDeposit:x,onSwapsCustomerSetupComplete:m,onCloseOverlay:v,onTransactionCreated:y,onKmsWalletsCreated:p,onTransactionCompleted:f,onUnsupportedRegion:b,auth:S,useWarnBeforeRefresh:w}=e;return{flow:"swapsCustomerSetup",variant:e.variant,environment:n,params:{apiKey:t,amount:a,amountCurrencyCode:i,theme:o,themeId:l,externalCustomerId:u},debug:r,handlers:{onAuthToken:c,onLogin:g,onInitiateDeposit:x,onSwapsCustomerSetupComplete:m,onCloseOverlay:v,onTransactionCreated:y,onKmsWalletsCreated:p,onTransactionCompleted:f,onUnsupportedRegion:b},baseOrigin:d,auth:S,useWarnBeforeRefresh:w,containerNodeSelector:`#${s}`}},u=({props:e,apiKey:t,debug:r,environment:n})=>{let{amount:a,amountCurrencyCode:i,theme:o,themeId:l,baseOrigin:u,onLogin:d,onInitiateDeposit:c,onConsumerKycComplete:g,onKmsWalletsCreated:x,onTransactionCompleted:m,onUnsupportedRegion:v,onCloseOverlay:y,auth:p,useWarnBeforeRefresh:f}=e;return{flow:"consumerKyc",variant:e.variant,environment:n,params:{apiKey:t,amount:a,amountCurrencyCode:i,theme:o,themeId:l},debug:r,handlers:{onLogin:d,onInitiateDeposit:c,onConsumerKycComplete:g,onKmsWalletsCreated:x,onTransactionCompleted:m,onUnsupportedRegion:v,onCloseOverlay:y},baseOrigin:u,auth:p,useWarnBeforeRefresh:f,containerNodeSelector:`#${s}`}},d=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{contractAddress:i,tokenId:o,listingId:l,externalTransactionId:u,baseCurrencyCode:d,redirectURL:c,walletAddress:g,subPartnerName:x,metadata:m,dynamicAssetInfo:v,sellType:y,email:p,quantity:f,baseOrigin:b,onAuthToken:S,onLogin:w,onTransactionCompleted:h,onUnsupportedRegion:N,onInitiateDeposit:M,onKmsWalletsCreated:R,onCloseOverlay:U,onTransactionCreated:q,auth:C,useWarnBeforeRefresh:P}=e;return{flow:"nft",variant:e.variant,environment:n,params:{apiKey:t,signature:a,contractAddress:i,tokenId:o,listingId:l,externalTransactionId:u,baseCurrencyCode:d,redirectURL:c,walletAddress:g,subPartnerName:x,metadata:m,dynamicAssetInfo:v,sellType:y,email:p,quantity:f},debug:r,handlers:{onAuthToken:S,onLogin:w,onTransactionCompleted:h,onUnsupportedRegion:N,onInitiateDeposit:M,onKmsWalletsCreated:R,onCloseOverlay:U,onTransactionCreated:q},auth:C,baseOrigin:b,useWarnBeforeRefresh:P,containerNodeSelector:`#${s}`}},c=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{contractId:i,tokenId:o,initialScreen:l,onAuthToken:u,onLogin:d,onTransactionCompleted:c,onUnsupportedRegion:g,onInitiateDeposit:x,onKmsWalletsCreated:m,onCloseOverlay:v,onTransactionCreated:y,baseOrigin:p,auth:f,useWarnBeforeRefresh:b}=e;return{flow:"claim",variant:e.variant,environment:n,params:{apiKey:t,signature:a,contractId:i,tokenId:o,initialScreen:l},debug:r,handlers:{onAuthToken:u,onLogin:d,onTransactionCompleted:c,onUnsupportedRegion:g,onInitiateDeposit:x,onKmsWalletsCreated:m,onCloseOverlay:v,onTransactionCreated:y},baseOrigin:p,auth:f,useWarnBeforeRefresh:b,containerNodeSelector:`#${s}`}},g=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{externalCustomerId:i,theme:o,themeId:l,currencyCode:u,baseOrigin:d,onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:x,onLogin:m,onTransactionCompleted:v,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:p,onCloseOverlay:f,onTransactionCreated:b,auth:S,useWarnBeforeRefresh:w}=e;return{flow:"topup",variant:e.variant,environment:n,params:{apiKey:t,signature:a,externalCustomerId:i,theme:o,themeId:l,currencyCode:u},debug:r,handlers:{onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:x,onLogin:m,onTransactionCompleted:v,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:p,onCloseOverlay:f,onTransactionCreated:b},baseOrigin:d,auth:S,useWarnBeforeRefresh:w,containerNodeSelector:`#${s}`}},x=({props:e,debug:t,environment:r})=>{let{theme:n,themeId:a,baseOrigin:i,onLogin:o,onTransactionCompleted:l,onUnsupportedRegion:u,onCloseOverlay:d,onTransactionCreated:c,onBalanceDepositTransferConfirmed:g,auth:x,useWarnBeforeRefresh:m}=e;return{flow:"moonPayBalanceDeposit",variant:e.variant,environment:r,params:{theme:n,themeId:a},debug:t,handlers:{onLogin:o,onTransactionCompleted:l,onUnsupportedRegion:u,onCloseOverlay:d,onTransactionCreated:c,onBalanceDepositTransferConfirmed:g},baseOrigin:i,auth:x,useWarnBeforeRefresh:m,containerNodeSelector:`#${s}`}},m=({props:e,debug:t,environment:r})=>{let{theme:n,themeId:a,baseOrigin:i,onLogin:o,onTransactionCompleted:l,onUnsupportedRegion:u,onCloseOverlay:d,onTransactionCreated:c,auth:g,useWarnBeforeRefresh:x}=e;return{flow:"moonPayBalanceWithdraw",variant:e.variant,environment:r,params:{theme:n,themeId:a},debug:t,baseOrigin:i,handlers:{onLogin:o,onTransactionCompleted:l,onUnsupportedRegion:u,onCloseOverlay:d,onTransactionCreated:c},auth:g,useWarnBeforeRefresh:x,containerNodeSelector:`#${s}`}},v=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{externalCustomerId:i,theme:o,themeId:l,baseCurrencyCode:u,baseOrigin:d,onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:x,onLogin:m,onTransactionCompleted:v,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:p,onCloseOverlay:f,onTransactionCreated:b,auth:S,useWarnBeforeRefresh:w}=e;return{flow:"withdraw",variant:e.variant,environment:n,params:{apiKey:t,signature:a,externalCustomerId:i,theme:o,themeId:l,baseCurrencyCode:u},debug:r,handlers:{onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:x,onLogin:m,onTransactionCompleted:v,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:p,onCloseOverlay:f,onTransactionCreated:b},baseOrigin:d,auth:S,useWarnBeforeRefresh:w,containerNodeSelector:`#${s}`}},y=({props:e,apiKey:t,debug:r,environment:n,signature:a})=>{let{walletAddress:i,walletAddressTag:o,refundWalletAddress:l,baseCurrencyCode:u,baseCurrencyAmount:d,quoteCurrencyCode:c,quoteCurrencyAmount:g,colorCode:x,theme:m,themeId:v,externalCustomerId:y,baseOrigin:p,onAuthToken:f,onInitiateDeposit:b,onKmsWalletsCreated:S,onLogin:w,onTransactionCompleted:h,onUnsupportedRegion:N,onSwapsCustomerSetupComplete:M,onCloseOverlay:R,onTransactionCreated:U,auth:q,useWarnBeforeRefresh:C}=e;return{flow:"swap",variant:e.variant,environment:n,params:{apiKey:t,signature:a,walletAddress:i,walletAddressTag:o,refundWalletAddress:l,baseCurrencyCode:u,baseCurrencyAmount:d,quoteCurrencyCode:c,quoteCurrencyAmount:g,colorCode:x,theme:m,themeId:v,externalCustomerId:y},debug:r,handlers:{onAuthToken:f,onInitiateDeposit:b,onKmsWalletsCreated:S,onLogin:w,onTransactionCompleted:h,onUnsupportedRegion:N,onSwapsCustomerSetupComplete:M,onCloseOverlay:R,onTransactionCreated:U},baseOrigin:p,auth:q,useWarnBeforeRefresh:C,containerNodeSelector:`#${s}`}},p=({props:e,debug:t,environment:r})=>{let{transactionId:n,colorCode:a,theme:i,themeId:o,baseOrigin:l,onAuthToken:u,onInitiateDeposit:d,onKmsWalletsCreated:c,onLogin:g,onTransactionCompleted:x,onUnsupportedRegion:m,onSwapsCustomerSetupComplete:v,onCloseOverlay:y,onTransactionCreated:p,auth:f,useWarnBeforeRefresh:b}=e;return{flow:"transactionTracker",variant:e.variant,environment:r,params:{transactionId:n,colorCode:a,theme:i,themeId:o},baseOrigin:l,debug:t,handlers:{onAuthToken:u,onInitiateDeposit:d,onKmsWalletsCreated:c,onLogin:g,onTransactionCompleted:x,onUnsupportedRegion:m,onSwapsCustomerSetupComplete:v,onCloseOverlay:y,onTransactionCreated:p},auth:f,containerNodeSelector:`#${s}`,useWarnBeforeRefresh:b}},f={isLoading:!1,isLoaded:!1};async function b(e="v1"){return new Promise((t,r)=>{let n=`https://static.moonpay.com/web-sdk/${e}/moonpay-web-sdk.min.js`,a=document.querySelector(`script[src="${n}"]`);f.isLoading=!0;let s=(e=0)=>{if(window.MoonPayWebSdk){f.isLoading=!1,f.isLoaded=!0,t(window.MoonPayWebSdk.init);return}if(e>100){f.isLoading=!1,r(Error("Loading MoonPayWebSdk script timed out."));return}setTimeout(()=>s(e+1),100)};if(a)s();else{let e=document.createElement("script");e.async=!0,e.src=n,e.addEventListener("load",()=>{f.isLoading=!1,f.isLoaded=!0,t(window.MoonPayWebSdk?.init)}),e.addEventListener("error",()=>{f.isLoading=!1,f.isLoaded=!1,r(Error("Failed to load MoonPayWebSdk script."))}),document.body.appendChild(e)}})}var S=()=>void 0,w={info:S,warn:S,error:S},h=class e{prefix;logger;constructor({logger:e,prefix:t}){this.logger=e,this.prefix=t??["Logger"]}if(t){return t?this:new e({logger:w})}info(...e){this.logger.info(`[${this.prefix}]`,...e)}warn(...e){this.logger.warn(`[${this.prefix}]`,...e)}error(...e){this.logger.error(`[${this.prefix}]`,...e)}};void 0!==window.crypto&&void 0!==window.crypto.getRandomValues||(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));var N=(0,n.createContext)({apiKey:"",environment:"sandbox",debug:!1}),M=({children:e,apiKey:t,debug:r=!1})=>{let s=function(e){return e.startsWith("pk_live")||e.startsWith("sk_live")?"production":"sandbox"}(t),[i,o]=(0,n.useState)({apiKey:t,environment:s,debug:r}),l=(0,n.useCallback)(async()=>{let e=await b();o(t=>({...t,init:e}))},[]);return(0,n.useEffect)(()=>{i.init||l()},[l,i.init]),(0,a.jsx)(N.Provider,{value:i,children:e})},R=class extends h{constructor(){super({logger:console,prefix:["MoonPay React SDK"]})}},U=(e,t,r)=>{let a=(0,n.useRef)(null),{init:s,debug:i}=(0,n.useContext)(N),o=(0,n.useRef)(new R().if(i||!1)),l=(0,n.useCallback)(async()=>{if(a.current){if(!r&&("walletAddress"in e||"walletAddresses"in e)&&o.current.warn("You must provide an `onUrlSignatureRequested` function to sign the URL when using the `walletAddress` or `walletAddresses` prop"),r){let e=a.current.generateUrlForSigning();try{let t=await r?.(e);if(!t)return;a.current?.updateSignature(t)}catch(e){o.current.error("Something went wrong calling the provided `onUrlSignatureRequested` function:",e)}}t&&a.current?.show()}},[r,t,e]);(0,n.useEffect)(()=>{a.current&&a.current.close();let t=s?.(e)||null;a.current=t,l()},[s,e,l])},q={width:"424px",height:"656px",margin:"32px 28px 32px 28px",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden"};function C({config:e,onUrlSignatureRequested:t,visible:r=!0,className:n,style:i}){return(U(e,r,t),r)?(0,a.jsx)("div",{id:s,className:n,style:"embedded"===e.variant?{...q,...i}:void 0}):null}function P(e){let{environment:t}=(0,n.useContext)(N),r=(0,n.useMemo)(()=>x({props:e,environment:t,debug:!1}),[e,t]);return(0,a.jsx)(C,{config:r,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function W(e){let{environment:t}=(0,n.useContext)(N),r=(0,n.useMemo)(()=>m({props:e,environment:t,debug:!1}),[e,t]);return(0,a.jsx)(C,{config:r,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function k(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>i({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function L(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>u({props:e,apiKey:t,environment:r,debug:!1,signature:""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function $(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>d({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function j(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>c({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function E(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>o({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function B(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>l({props:e,apiKey:t,environment:r,debug:!1,signature:""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function _(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>y({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function T(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>g({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function A(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>p({props:e,apiKey:t,environment:r,debug:!1,signature:""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function K(e){let{apiKey:t,environment:r}=(0,n.useContext)(N),s=(0,n.useMemo)(()=>v({props:e,apiKey:t,environment:r,debug:!1,signature:e.signature||""}),[e,t,r]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}}}]);