"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{2213:(e,r,t)=>{t.r(r),t.d(r,{default:()=>h});var n=t(4848),s=t(6540),i="moonpay-react-sdk-embedded-frame",o=({props:e,apiKey:r,debug:t,environment:n,signature:s})=>{let{currencyCode:o,defaultCurrencyCode:a,walletAddress:u,walletAddressTag:l,walletAddresses:d,walletAddressTags:x,colorCode:c,theme:g,themeId:f,language:p,baseCurrencyCode:h,baseCurrencyAmount:w,quoteCurrencyAmount:v,lockAmount:b,email:y,externalTransactionId:m,externalCustomerId:C,paymentMethod:R,redirectURL:S,showAllCurrencies:N,showOnlyCurrencies:k,showWalletAddressForm:A,unsupportedRegionRedirectUrl:E,skipUnsupportedRegionScreen:U,baseOrigin:q,onAuthToken:$,onInitiateDeposit:_,onKmsWalletsCreated:j,onLogin:M,onTransactionCompleted:K,onUnsupportedRegion:L,onSwapsCustomerSetupComplete:B,onCloseOverlay:D,onTransactionCreated:F,auth:P,useWarnBeforeRefresh:V,overlayNode:Y}=e;return{flow:"buy",variant:e.variant,environment:n,params:{apiKey:r,signature:s,currencyCode:o,defaultCurrencyCode:a,walletAddress:u,walletAddressTag:l,walletAddresses:d,walletAddressTags:x,colorCode:c,theme:g,themeId:f,language:p,baseCurrencyCode:h,baseCurrencyAmount:w,quoteCurrencyAmount:v,lockAmount:b,email:y,externalTransactionId:m,externalCustomerId:C,paymentMethod:R,redirectURL:S,showAllCurrencies:N,showOnlyCurrencies:k,showWalletAddressForm:A,unsupportedRegionRedirectUrl:E,skipUnsupportedRegionScreen:U,baseOrigin:q},debug:t,handlers:{onAuthToken:$,onInitiateDeposit:_,onKmsWalletsCreated:j,onLogin:M,onTransactionCompleted:K,onUnsupportedRegion:L,onSwapsCustomerSetupComplete:B,onCloseOverlay:D,onTransactionCreated:F},auth:P,useWarnBeforeRefresh:V,containerNodeSelector:`#${i}`,overlayNode:Y}},a=()=>void 0,u={info:a,warn:a,error:a},l=class e{prefix;logger;constructor({logger:e,prefix:r}){this.logger=e,this.prefix=r??["Logger"]}if(r){return r?this:new e({logger:u})}info(...e){this.logger.info(`[${this.prefix}]`,...e)}warn(...e){this.logger.warn(`[${this.prefix}]`,...e)}error(...e){this.logger.error(`[${this.prefix}]`,...e)}};void 0!==window.crypto&&void 0!==window.crypto.getRandomValues||(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)}));var d=(0,s.createContext)({apiKey:"",environment:"sandbox",debug:!1}),x=class extends l{constructor(){super({logger:console,prefix:["MoonPay React SDK"]})}},c=(e,r,t)=>{let n=(0,s.useRef)(null),{init:i,debug:o}=(0,s.useContext)(d),a=(0,s.useRef)(new x().if(o||!1)),u=(0,s.useCallback)(async()=>{if(n.current){if(!t&&("walletAddress"in e||"walletAddresses"in e)&&a.current.warn("You must provide an `onUrlSignatureRequested` function to sign the URL when using the `walletAddress` or `walletAddresses` prop"),t){let e=n.current.generateUrlForSigning();try{let r=await t?.(e);if(!r)return;n.current?.updateSignature(r)}catch(e){a.current.error("Something went wrong calling the provided `onUrlSignatureRequested` function:",e)}}r&&n.current?.show()}},[t,r,e]);(0,s.useEffect)(()=>{n.current&&n.current.close();let r=i?.(e)||null;n.current=r,u()},[i,e,u])},g={width:"424px",height:"656px",margin:"32px 28px 32px 28px",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden"};function f({config:e,onUrlSignatureRequested:r,visible:t=!0,className:s,style:o}){return(c(e,t,r),t)?(0,n.jsx)("div",{id:i,className:s,style:"embedded"===e.variant?{...g,...o}:void 0}):null}function p(e){let{apiKey:r,environment:t}=(0,s.useContext)(d),i=(0,s.useMemo)(()=>o({props:e,apiKey:r,environment:t,debug:!1,signature:e.signature||""}),[e,r,t]);return(0,n.jsx)(f,{config:i,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function h(e){return(0,n.jsx)(p,{className:e.className,variant:e.variant,baseCurrencyCode:e.baseCurrencyCode,baseCurrencyAmount:e.baseCurrencyAmount,defaultCurrencyCode:e.defaultCurrencyCode,visible:e.visible})}}}]);